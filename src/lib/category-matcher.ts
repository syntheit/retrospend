export interface CategoryMatchRule {
	category: string;
	keywords: string[];
}

export const CATEGORY_RULES: CategoryMatchRule[] = [
	{
		category: "Groceries",
		keywords: [
			"tesco",
			"walmart",
			"kroger",
			"whole foods",
			"aldi",
			"lidl",
			"publix",
			"safeway",
			"hmart",
			"carrefour",
			"woolworths",
			"coles",
			"grocery",
			"groceries",
			"market",
			"bodega",
			"shoprite",
			"wegmans",
			"waitrose",
			"sainsburys",
			"m&s",
			"marks & spencer",
			"trader joes",
			"costco",
			"target",
			"milk",
			"egg",
			"bread",
			"cheese",
			"yogurt",
			"tomato",
			"cereal",
			"fruit",
			"vegetable",
			"meat",
			"chicken",
			"butter",
			"rice",
			"pasta",
			"snack",
			"butter",
			"flour",
			"sugar",
		],
	},
	{
		category: "Dining Out",
		keywords: [
			"restaurant",
			"pizza",
			"burger",
			"pasta",
			"sushi",
			"ramen",
			"steakhouse",
			"grill",
			"bistro",
			"trattoria",
			"diner",
			"takeout",
			"lunch",
			"dinner",
			"breakfast",
			"brunch",
			"mcdonalds",
			"kfc",
			"burger king",
			"subway",
			"taco bell",
			"chipotle",
			"panda express",
			"nandos",
			"wagamama",
			"five guys",
			"shake shack",
			"popeyes",
			"wendys",
			"dominos",
			"pizza hut",
			"cheesecake factory",
			"olive garden",
			"applebees",
			"dennys",
			"ihop",
		],
	},
	{
		category: "Cafe",
		keywords: [
			"coffee",
			"starbucks",
			"dunkin",
			"costa",
			"cafe",
			"espresso",
			"latte",
			"cappuccino",
			"bakery",
			"pastry",
			"croissant",
			"muffin",
			"tea",
			"bagel",
			"peets",
			"philz",
			"pret a manger",
			"caffe nero",
			"blue bottle",
			"dutch bros",
			"tim hortons",
			"roastery",
		],
	},
	{
		category: "Food Delivery",
		keywords: [
			"uber eats",
			"doordash",
			"deliveroo",
			"postmates",
			"grubhub",
			"skip the dishes",
			"just eat",
			"takeaway.com",
			"delivery",
			"rappi",
			"foodpanda",
			"glovo",
			"zomato",
			"swiggy",
		],
	},
	{
		category: "Drinks",
		keywords: [
			"bar",
			"pub",
			"brewery",
			"winery",
			"liquor",
			"wine",
			"beer",
			"cocktail",
			"club",
			"nightclub",
			"lounge",
			"alcohol",
			"drinks",
			"beverage",
			"cellar",
			"tequila",
			"whiskey",
			"gin",
			"vodka",
			"spirits",
			"taproom",
		],
	},
	{
		category: "Rent",
		keywords: [
			"rent",
			"lease",
			"mortgage",
			"housing",
			"apartment",
			"landlord",
			"resident",
			"real estate",
			"letting",
		],
	},
	{
		category: "Utilities",
		keywords: [
			"electricity",
			"water",
			"gas",
			"heating",
			"internet",
			"wifi",
			"phone",
			"mobile",
			"broadband",
			"sewage",
			"trash",
			"garbage",
			"recycling",
			"utility",
			"energy",
			"power",
			"xfinity",
			"at&t",
			"verizon",
			"t-mobile",
			"spectrum",
			"orange",
			"vodafone",
			"o2",
			"ee",
			"comcast",
			"cox",
			"utility bill",
		],
	},
	{
		category: "Health",
		keywords: [
			"pharmacy",
			"doctor",
			"dentist",
			"hospital",
			"clinic",
			"medicine",
			"health",
			"medical",
			"vision",
			"optical",
			"therapy",
			"chiropractic",
			"walgreens",
			"cvs",
			"boots",
			"medication",
			"prescription",
			"insurance",
			"health insurance",
			"physio",
			"vitamin",
			"supplement",
		],
	},
	{
		category: "Transport",
		keywords: [
			"train",
			"bus",
			"subway",
			"metro",
			"transit",
			"ticket",
			"fare",
			"parking",
			"toll",
			"bridge",
			"ferry",
			"oyster",
			"transport",
			"amtrak",
			"lirr",
			"mta",
			"railway",
			"tfl",
			"public transport",
		],
	},
	{
		category: "Travel",
		keywords: [
			"airline",
			"hotel",
			"airbnb",
			"flight",
			"booking.com",
			"expedia",
			"travel",
			"hostel",
			"resort",
			"vacation",
			"cruise",
			"delta",
			"united",
			"virgin",
			"british airways",
			"lufthansa",
			"ryanair",
			"easyjet",
			"emirates",
			"qatar",
			"singapore airlines",
			"southwest",
			"klm",
		],
	},
	{
		category: "Tech",
		keywords: [
			"apple",
			"google",
			"amazon",
			"microsoft",
			"electronics",
			"software",
			"hardware",
			"computer",
			"laptop",
			"phone",
			"gadget",
			"best buy",
			"b&h",
			"steam",
			"playstation",
			"xbox",
			"nintendo",
			"cloud",
			"hosting",
			"digitalocean",
			"aws",
			"newegg",
			"logitech",
			"razer",
			"nvidia",
			"amd",
		],
	},
	{
		category: "Subscriptions",
		keywords: [
			"netflix",
			"spotify",
			"youtube premium",
			"icloud",
			"zoom",
			"dropbox",
			"hulu",
			"disney",
			"hbo",
			"prime",
			"adobe",
			"subscription",
			"saas",
			"chatgpt",
			"openai",
			"slack",
			"cursor",
			"notion",
			"patreon",
			"medium",
			"the athletic",
			"new york times",
			"wall street journal",
		],
	},
	{
		category: "Education",
		keywords: [
			"school",
			"university",
			"college",
			"tuition",
			"course",
			"book",
			"textbook",
			"udemy",
			"coursera",
			"edx",
			"library",
			"education",
			"student",
			"scholarship",
			"skillshare",
			"masterclass",
		],
	},
	{
		category: "Misc",
		keywords: [
			"misc",
			"miscellaneous",
			"gift",
			"donation",
			"charity",
			"cash",
			"other",
			"unclassified",
		],
	},
	{
		category: "Fees",
		keywords: [
			"fee",
			"convenience fee",
			"service fee",
			"late fee",
			"bank fee",
			"commission",
			"interest",
			"overdraft",
			"atm fee",
			"transaction fee",
		],
	},
	{
		category: "Taxes",
		keywords: [
			"tax",
			"vat",
			"irs",
			"hmrc",
			"income tax",
			"council tax",
			"property tax",
			"state tax",
			"federal tax",
		],
	},
	{
		category: "Social",
		keywords: [
			"party",
			"event",
			"cinema",
			"movie",
			"theater",
			"museum",
			"zoo",
			"aquarium",
			"concert",
			"ticketmaster",
			"stubhub",
			"entertainment",
			"social",
			"bowl",
			"karaoke",
			"festival",
			"night out",
		],
	},
	{
		category: "Date",
		keywords: [
			"date",
			"flowers",
			"florist",
			"gift",
			"jewelry",
			"romance",
			"romantic",
		],
	},
	{
		category: "Household",
		keywords: [
			"furniture",
			"decor",
			"bedding",
			"appliance",
			"ikea",
			"home depot",
			"lowes",
			"target",
			"bed bath & beyond",
			"cleaning",
			"detergent",
			"garbage bags",
			"repairs",
			"hardware",
			"fix",
			"household",
			"kitchenware",
		],
	},
	{
		category: "Hobby",
		keywords: [
			"hobby",
			"craft",
			"music",
			"instrument",
			"game",
			"card",
			"hobbycraft",
			"kit",
			"art",
			"supplies",
			"camera",
			"photography",
			"painting",
			"knitting",
			"collectibles",
			"warhammer",
			"lego",
		],
	},
	{
		category: "Gas",
		keywords: [
			"gas",
			"petrol",
			"fuel",
			"shell",
			"bp",
			"mobil",
			"exxon",
			"chevron",
			"texaco",
			"total",
			"esso",
			"gas station",
			"filling station",
		],
	},
	{
		category: "Rideshare",
		keywords: [
			"uber",
			"lyft",
			"didi",
			"grab",
			"bolt",
			"cab",
			"taxi",
			"free now",
			"ola",
			"careem",
		],
	},
	{
		category: "Gym",
		keywords: [
			"gym",
			"fitness",
			"yoga",
			"pilates",
			"workout",
			"training",
			"sport",
			"equinox",
			"planet fitness",
			"golds gym",
			"orange theory",
			"f45",
			"soulcycle",
			"crossfit",
			"membership",
			"puregym",
			"anytime fitness",
		],
	},
];

/**
 * Predicts a category based on the provided text (e.g., expense title or description).
 * Returns the matching category name in lowercase, or null if no match is found.
 */
export function predictCategory(text: string): string | null {
	if (!text) return null;

	const normalizedText = text.toLowerCase();

	for (const rule of CATEGORY_RULES) {
		for (const keyword of rule.keywords) {
			if (normalizedText.includes(keyword.toLowerCase())) {
				return rule.category;
			}
		}
	}

	return null;
}
